{
    "componentChunkName": "component---src-templates-course-content-template-js",
    "path": "/luku-4/2-prosessi",
    "result": {"data":{"page":{"htmlAst":{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"div","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"lead","properties":{},"children":[{"type":"text","value":"Tässä osiossa esittelemme prosessin käsitteen. Prosessi on järjestelmässä suorituksessa oleva ohjelma ja prosessin kuvaaja sen esitysmuoto käyttöjärjestelmässä. Käymme myös läpi erilaiset tilat, joissa prosessi voi järjestelmässä olla ja minkälaisia tietoja prosessin kuvaajassa on."}]},{"type":"text","value":"\n"}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Prosessi"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Kun jotain ohjelmaa halutaan suorittaa järjestelmässä, se pitää "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"ladata"}]},{"type":"text","value":" massamuistista. Latauksessa käyttöjärjestelmä luo uuden "},{"type":"element","tagName":"a","properties":{"href":"https://fi.wikipedia.org/wiki/Prosessi_(tietotekniikka)","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"prosessin"}]},{"type":"text","value":", joka on kyseisen ohjelman yksi suorituskerta järjestelmässä. Yhdestä ohjelmasta voi järjestelmässä olla samanaikaisesti usea prosessi järjestelmässä, vaikkakin vain yksi niistä voi kerrallaan olla suorituksessa (yhden suorittimen järjestelmässä). Esimerkiksi, sinulla voi olla monta selainikkunaa samanaikaisesti käytössä ja niissä kaikissa suorituksessa sama selainohjelma. Toisaalta, järjestelmässä voi samanaikaisesti olla prosesseja eri ohjelmista, joista niistäkin tietenkin vain yksi kerrallaan on suorituksessa suorittimella."}]},{"type":"comment","value":" kuva  luento 8, kalvo 3    ch-4-2-prosessit-jarjestelmassa.jpg  "},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/2feddae8830b9d4a8503f817f975d599/ch-4-2-prosessit-jarjestelmassa.svg","alt":"Perusjärjestelmän kokoonpano, jossa ylhäällä suoritin ja muisti, keskellä väylä, ja alhaalla laiteohjain ja kovalevy. Kovalevyllä on ohjelmat P ja Q latausmoduuleina. Muistissa on näistä ohjelmista luodut prosessit P1, P2, P3 ja Q1, sekä näiden prosessien ja KJ:n koodi-ja data-alueet. Suorittimien rekistereissä on prosessin P2 tietoja, vaikka pääosa P2:n tiedoista on muistissa. Osa P2:n juuri nyt ei-käytössä olevista tiedoista voi olla levyllä."},"children":[]}]},{"type":"element","tagName":"div","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"illustrations","properties":{"motive":"ch-4-2-prosessit-jarjestelmassa","frombottom":"0","totalheight":"100%"},"children":[]},{"type":"text","value":"\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Ladattava ohjelma sijaitsee massamuistissa kääntämisen ja linkittämisen (ks. Luku 1) lopputuloksena syntyneessä "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"latausmoduulissa"}]},{"type":"text","value":", jossa on mm. ohjelmakoodi konekielisessä muodossa. Latauksessa käyttöjärjestelmä varaa tarvittavan määrän muistitilaa tälle prosessille ja kopioi sen ohjelmakoodin muistiin annetulle alueelle. Se myös tallettaa kaikki tähän prosessiin liittyvät hallintotiedot erityiseen tietueeseen, prosessin "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"kuvaajaan"}]},{"type":"text","value":" (PCB, Process Control Block) tai siihen linkitettyihin muihin tietorakenteisiin. Kuvaajan tarkempi esittely on alla."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Juuri luotu uusi prosessi ei suinkaan ole vielä suorituksessa, koska sen luontihetkellä suorituksessa oli käyttöjärjestelmään sisältyvä lataaja. Uuden prosessin luomisen jälkeen käyttöjärjestelmä päättää, mikä prosessi saa seuraavaksi suoritusvuoron. Se voi olla juuri luotu prosessi, mutta yhtä hyvin se voi olla esimerkiksi se prosessi, jonka suoritus keskeytettiin uuden prosessin luontia varten."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Kun uusi prosessi pääsee vihdoin suoritukseen, suorittimen rekisterit täytyy alustaa sopivilla arvoilla. Ensimmäisellä suorituskerralla tämä tarkoittaa, että esimerkiksi muistin käyttöä rajaaville rekistereille (BASE ja LIMIT, ks. Luku 2.1) ja tilarekisterille (SR) asetetaan sopivat arvot prosessin kuvaajasta. Lopulta paikanlaskurille (PC) asetetaan uusi arvo tämän prosessin ohjelmakoodiin ja juuri sillä hetkellä kontrolli (suoritusvuoro) siirtyy tälle uudelle prosessille. Seuraava konekäsky on jo uuden prosessin suoritusta."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Prosessin käsite on kerta kaikkiaan nerokas. Se on täysin näennäinen (virtuaalinen) käyttöjärjestelmän luoma abstrakti käsite, johon kuitenkin kaikki tietokoneen laskenta perustuu. Kun käyttöjärjestelmä käynnistetään, siellä aivan aluksi (käyttöjärjestelmän ytimessä) luodaan rakenteet prosessien luontia ja prosessien välistä kommunikointia varten. Useat käyttöjärjestelmät (esim. Windows tai Linux) on itsekin toteutettu osittain prosessien avulla, jotka sitten voivat olla suorittamassa käyttöjärjestelmän hallintoa silloin tällöin."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Suoritin ei tiedä mitään prosesseista ja järjestelmässä suoritettavista tehtävistä. Se näkee ainoastaan peräkkäisesti suoritettavia konekäskyjä, joista osa on etuoikeutettuja ja osa ei. Konekäskyjen suoritus tapahtuu käskyjen nouto- ja suoritussyklin mukaisesti. Yleensä suoritin suorittaa konekäskyjä niiden muistissaolojärjestyksen mukaisesti. Aina silloin tällöin kontrolli siirtyy muualle ehdollisen haarautumisen (JZER, etc), hypyn (JUMP), aliohjelmakutsun (CALL), käyttöjärjestelmän palvelupyynnön (SVC) tai keskeytyksen vuoksi."}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Prosessin kuvaaja"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Prosessin kuvaajassa on "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"kaikki"}]},{"type":"text","value":" tiedot, mitä järjestelmä tarvitsee tästä prosessista. Prosessin kuvaaja (tai ainakin tärkeimmät osat siitä) pidetään muistissa myös silloin kun prosessi ei ole suorituksessa, koska käyttöjärjestelmä käsittelee prosesseja nimenomaan niiden kuvaajien kautta. Kaikki prosessin tiedot eivät ole suoraan tässä kuvaajassa. Esimerkiksi tiedostojen käyttöön liittyvät tiedot voi olla keskitetty tiedostojärjestelmään ja prosessin kuvaajassa on sitten linkki tai linkkejä tiedostojärjestelmän tietoihin. Vastaavasti laitteiden hallinta pitää kirjaa kaikista järjestelmän laitteista ja tietyn prosessin kuvaajassa on linkkejä sen käyttämiin laitteisiin laiteiden hallinnassa."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Prosessin kuvaajassa on järjestelmässä uniikki prosessin "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"tunniste"}]},{"type":"text","value":" (kokonaisluku, pid, process id), jonka avulla prosessi tunnistetaan tässä järjestelmässä ja muissakin järjestelmissä. Esimerkiksi, kun pyydät uutta verkkosivua joltain web-palvelimelta, selaimesi lähettää verkon kautta viestin palvelintietokoneelle (esim. "},{"type":"element","tagName":"a","properties":{"href":"http://www.helsinki.fi","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"www.helsinki.fi"}]},{"type":"text","value":" eli 128.214.189.90) siellä suorittavalle web-palvelinprosessille (tunniste esim. 2345). Pyynnössä on mukana sinun koneesi verkko-osoite (esim. 128.214.170.60) ja selainprosessisi tunniste (esim. 1287). Näiden avulla web-palvelinprosessi voi lähettää pyytämäsi verkkosivun sinun koneellesi (128.214.170.60) ja siellä juuri oikealle selaimelle (tunniste 1287). Prosessin tunniste voi olla esimerkiksi indeksi suureen prosessitauluun, josta prosessin tunnisteen perusteella löytyy prosessin kuvaajan osoite muistissa."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Kuten jo äsken mainittiin, niin kuvaajasta löytyy selkeästi määriteltynä mm. kaikki prosessille varatut "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"muistialueet"}]},{"type":"text","value":". Ne voivat olla yhtenä ryppäänä tai hajautettuna sinne tänne keskusmuistia. On myös täysin mahdollista, että muistialueita varataan ja vapautetaan dynaamisesti suoritusaikana. Vastaavasti kaikki prosessin käyttämät "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"tiedostot"}]},{"type":"text","value":" löytyvät täältä (linkitettynä tiedostojärjestelmään). Kuvaajasta näkyy, mitkä tiedostot on avattu esim. lukuoikeuksilla ja missä kohtaa tiedostoa ollaan tällä hetkellä lukemassa. Kuvaajassa on tieto myös kaikista muista "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"järjestelmän resursseista"}]},{"type":"text","value":" (esim. näppäimistö tai näytöllä oleva ikkuna), jotka prosessi on varannut käyttöönsä."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Kuvaajassa on myös prosessin "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"prioriteetti"}]},{"type":"text","value":" (esim. 35 tai 85) suorittimen vuoronantoa varten. Käyttöjärjestelmäprosesseilla on aina parempi prioriteetti kuin tavallisilla käyttäjän aloittamilla prosesseilla. Ainahan hallinto on tärkeämpää kuin tavallinen työnteko ja varsinkin tietokonejärjestelmissä. Jos esimerkiksi muistinhallintaa ei tehdä ajoissa kuntoon, järjestelmä kaatuu."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Joissakin järjestelmissä prosessit saavat olla suorituksessa korkeintaan jonkin tietyn ajan, jonka jälkeen niiden pitää antaa vuoro toisille. Tällaista kerralla laskentaan käytettävää maksimiaikaa kutsutaan prosessin "},{"type":"element","tagName":"a","properties":{"href":"https://fi.m.wikipedia.org/wiki/Moniajo","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"aikaviipaleeksi"}]},{"type":"text","value":" ja sen pituus löytyy myös kuvaajasta. Kuvaajasta löytyy myös tieto siitä, suorittaako prosessi (tällä hetkellä) "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"etuoikeutetussa tilassa"}]},{"type":"text","value":" vai ei."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Jos prosessi joutuu odottamaan jotain asiaa (esim. syötettä käyttäjältä), niin "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"odotuksen syy"}]},{"type":"text","value":" \nlöytyy kuvaajasta. Käyttöjärjestelmä pitää kuvaajassa kirjaa prosessin käyttämästä "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"suoritinajasta"}]},{"type":"text","value":", jota joissakin pilvipalveluissa käytetään laskutusperusteena."}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Suoritinympäristö"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Tärkeänä komponenttina kuvaajassa on prosessin "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"suoritinympäristö"}]},{"type":"text","value":". Ajatellaan tilannetta, jossa prosessi on menettänyt suoritusvuoronsa suorittimelle vaikkapa keskeytyksen jälkimainingeissa. Prosessi täytyy nyt laittaa odottamaan uutta vuoroa suorittimelle ja haluamme suorituksen jatkuvan sitten joskus ihan samalla tavalla kuin jos keskeytystä ei olisi ikinä tapahtunutkaan. Tämä toteutetaan tallettamalla lähes kaikki suorittimen rekistereiden arvot tämän prosessin suoritinympäristöön. Tämä ei ole mikään valtava määrä tietoa, koska rekistereitä on korkeintaan muutama sata."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Sitten kun prosessi pääsee suoritukseen uudestaan, rekistereiden tallennetut arvot kopioidaan kuvaajasta takaisin suorittimelle ja suoritus voi jatkua normaalisti. Erona aikaisemmin mainittuun ensimmäiseen suorituskertaan on, että suoritinympäristöstä haetaan nyt myös kaikki aikaisemmin laskennassa käytetyt työrekisterit. Niillähän ei ensimmäisellä suorituskerralla ollut vielä mitään järkeviä arvoja, kun prosessi ei ollut vielä suorittanut yhtään konekäskyä."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Suoritinympäristön tietojen kopiointi tapahtuu ihan tavallisilla konekäskyillä ja muistiinviittauksilla kyseisen prosesssin kuvaajaan. Kopiointi tapahtuu etuoikeutetussa suoritustilassa, kuten kaikki muukin prosessien hallintaan liittyvä käyttöjärjestelmän tekemä työ. Prosessien kuvaajiin ei tavallisilla käyttäjätason prosesseilla ole pääsyä."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Suoritinympäristöön ei tarvitse kopioida ihan kaikkia suorittimen rekistereiden arvoja, koska suorituksessa oleva prosessi voi vaihtua toiseen ainoastaan konekäskyjen suoritusten välissä. Sellaisia rekistereitä, joiden arvot asetetaan joka tapauksessa uudelleen yhden konekäskyn suorituksen aikana, ei tarvitse tallettaa suoritinympäristöön. Tällaisia ovat esimerkiksi väylää ohjaavat rekisterit MAR ja MBR (ks. Luku 2.1)."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Prosessin ollessa suorituksessa sen suoritinympäristö on siis suorittimen rekistereissä ja muulloin se on talletettuna prosessin kuvaajaan."}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Käyttöjärjestelmän tietorakenteiden yhteiskäyttöongelma"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Prosessien kuvaajat ja niihin linkitetyt eri alijärjestelmien (esim. tiedostojärjestelmä) tiedot muodostavat yhdessä valtavan tietorakenteen, jota hyvin moni käyttöjärjestelmän osa käsittelee. Tämä aiheuttaa käyttöjärjestelmän suunnittelussa ja toteutuksessa hankalan ongelman, koska käyttöjärjestelmän osia on järjestelmässä useita suorituksessa samanaikaisesti. Esimerkiksi, usea prosessi on saattanut pyytää levy-I/O:ta tai lisämuistitilaa samanaikaisesti."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Käyttöjärjestelmän omien tietorakenteiden hallinnassa on tämän vuoksi "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"samanaikaisuusongelma"}]},{"type":"text","value":", koska usean prosessin tarvitsee käsitellä (ja muuttaa) samoja tietorakenteita samanaikaisesti. Samanaikaisuusongelma ratkaistaan rajoittamalla tietyn tietorakenteen osan käyttö yhdelle prosessille kerrallaan. Se on kuitenkin vaikeata tehdä, kun yleensä ei ole tietoa näistä muista prosesseista, jotka juuri nyt haluaisivat ehkä koskea siihen samaan tietorakenteeseen. Jos ratkaisu epäonnistuu, kyseinen käyttöjärjestelmän tietorakenne jää rikkinäiseen tilaan ja koko järjestelmä voi hyytyä (esim. "},{"type":"element","tagName":"a","properties":{"href":"https://simple.wikipedia.org/wiki/Blue_Screen_of_Death","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"Blue Screen of Death"}]},{"type":"text","value":"). Tämä onkin yleisin syy tietokonejärjestelmien jumiutumiseen siten, että ne eivät reagoi enää mihinkään."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Yleensä ainoa toipumiskonsti hyytyneeseen järjestelmään on pistää virrat pois ja alustaa  (bootata) koko järjestelmä uudelleen. Tästä aiheutuu usein ärsyttävän paljon haittaa, kun kaikki levylle tallentamaton keskeneräinen työ voi mennä hukkaan."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Samanaikaisuusongelmat ovat vaikeita poistaa, koska käyttöjärjestelmässä voi olla satoja tuhansia tai miljoonia rivejä koodia, ja sitä on toteuttamassa suuri määrä ohjelmoijia eri organisaatioissa. Ongelma tulee vähän paremmin hallittavaksi, jos tärkeimpiä tietorakenteita käsitellään vain käyttöjärjestelmän etuoikeutetussa "},{"type":"element","tagName":"a","properties":{"href":"https://fi.wikipedia.org/wiki/K%C3%A4ytt%C3%B6j%C3%A4rjestelm%C3%A4n_ydin","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"ytimessä"}]},{"type":"text","value":" ("},{"type":"element","tagName":"a","properties":{"href":"https://simple.wikipedia.org/wiki/Kernel_%28computer_science%29","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"kernel"}]},{"type":"text","value":"). Etuoikeutetusta ytimestä voidaan tehdä mahdollisimman pieni, jolloin myös yhteisiä tietorakenteita käyttävästä koodista tulee pienempi ja sieltä on helpompi löytää virheitä."}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Prosessin vaihto"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Prosessin vaihto on tapahtumaketju, jossa suorittimella suoritusvuorossa oleva prosessi vaihtuu. Se tapahtuu käytännössä aika usein, esimerkiksi 1-30 ms välein. Prosessin vaihto tapahtuu usein sen vuoksi, että suorituksessa oleva prosessi ei voi jatkaa suoritusta, vaan sen pitää jäädä odottamaan jotain. Syynä voi olla, että prosessi tarvitsee jotain tietoa massamuistista tai verkosta, tai sitten se jää odottamaan esimerkiksi vastausviestiä toiselta prosessilta pyytämäänsä palveluun."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Esimerkiksi, prosessi P pyytää viestin avulla levy I/O:ta laiteajuriprosessilta DD ja jää sitten odottamaan vastausviestiä. Laiteajuri DD ottaa viestin vastaan ja pyytää levyn laiteohjainta tekemään kyseisen I/O:n (tai osan I/O:sta). Sitten laiteajurikin jää odottamaan, kunnes laiteohjain ilmoittaa I/O-keskeytyksen avulla sille annetun tehtävän valmistumisesta."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Toinen syy prosessin vaihtoon voi olla, että prosessin "},{"type":"element","tagName":"a","properties":{"href":"https://fi.m.wikipedia.org/wiki/Moniajo","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"aikaviipale"}]},{"type":"text","value":" on tullut täyteen ja on aika antaa suoritusvuoro jollekin toiselle prosessille. Tämä havaitaan, kun käyttöjärjestelmä on saanut suoritusvuoron esimerkiksi kellolaitekeskeytyksen (ks. Luku 2.2) tai jonkin muun keskeytyksen kautta. Joka kerta, kun käyttöjärjestelmä saa suoritusvuoron, se voi tehdä hallintoa ja mahdollisesti päättää prosessin vaihdosta. Tämä on itse asiassa todella ärsyttävä ja vaikeita ongelmia aiheuttava käyttöjärjestelmän ominaisuus."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Kolmas syy prosessin vaihtoon on, että nyt suorituksessa oleva prosessi päättyy eli ohjelman suoritus päättyy normaalisti. Tämä toteutetaan yleensä kutsumalla jotain käyttöjärjestelmärutiinia SVC-konekäskyllä (ks. Luku 2.3)."}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Prosessin vaihdon toteutus"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Prosessin vaihto tapahtuu kahdessa vaiheessa. Ensiksi, nyt suorituksessa ollut prosessi joko lopetetaan kokonaan tai sitten se laitetaan odottamaan jotain. Jos prosessi lopetetaan, niin sitten kaikki sen käyttämät tiedostot suljetaan ja kaikki sen käyttämät resurssit vapautetaan muiden prosessien käyttöön. Tämä on \"helpohkoa\" tehdä, koska kaikki tiedot löytyvät (linkitettynä) prosessin kuvaajasta. Lopulta kaikki tiedot on poistettu ja prosessin tunnistekin vapautetaan uusiokäyttöön."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Jos prosessi laitetaan odottamaan jotain, niin sen suoritinympäristö pitää ottaa talteen sen kuvaajaan. Tämänkin työn tekee prosessienhallinnan joku moduuli."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Toiseksi, prosessienhallinta kutsuu prosessien "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"vuoronantajaa"}]},{"type":"text","value":" (scheduler), joka sopivaa "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"vuoronantoalgoritmia"}]},{"type":"text","value":" käyttäen valitsee uuden prosessin suoritukseen. Suorittimen rekistereihin kopioidaan uuden prosessin suoritinympäristö sen kuvaajasta ja suoritusvuoro siirtyy näin uudelle prosessille."}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Prosessin elinkaarimalli"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Prosessin \"elämää\" järjestelmässä sen luonnista sen päättymiseen kuvataan "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"prosessin elinkaarimallin"}]},{"type":"text","value":" avulla. Tästä mallista on muutamia variantteja riippuen siitä, kuinka paljon yksityiskohtia halutaan ottaa mukaan. Tässä esitellään mallin yksinkertaisin versio."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Prosessin luonnin ollessa vielä kesken sen ajatellaan olevan tilassa \"luonti\" (\"uusi\", \"new\"). Prosessi on tilassa \"valmis suoritukseen\" (\"ready\", \"ready to run\"), kun se odottaa suoritusvuoroa suorittimelle. Tuolloin sen kaikki tarvittavat muistialueet (koodi ja data) ovat valmiina keskusmuistissa ja se vain odottaa vuoroaan päästä suoritukseen. Kun prosessi vihdoin on suorittamassa suorittimella, sen tilana on \"suorituksessa\" (\"running\"). Sillä on tuolloin tietenkin kaikki sen tarvitsemat koodi- ja data-alueet muistissa. Jos prosessi on odottamassa mistä tahansa syystä, se on tilassa \"odottaa\" (\"waiting\", \"suspended\"). Kun prosessi joko itse pääsee koodin loppuun tai käyttöjärjestelmä on tappanut sen, prosessin tilana on \"päättynyt tai poistettu\" (\"tapettu\", \"terminated\", \"killed\"), kunnes kaikki sen rakenteet on vapautettu uusiokäyttöön. Joskus prosessia ei voi poistaa kokonaan ennen kuin kaikki sen itse käynnistämät prosessit (\"lapsiprosessit\") on ensin poistettu järjestelmästä. Tuollaisia vähän pidempään tapettu-tilassa olevia prosesseja kutsutaan joskus kuvaavasti "},{"type":"element","tagName":"a","properties":{"href":"https://en.wikipedia.org/wiki/Zombie_process","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"zombie"}]},{"type":"text","value":"-prosesseiksi, koska ne eivät enää oikeastaan tee mitään paitsi odottavat \"lapsiensa\" \"kuolemaa\" eli lapsiprosessiensa päättymistä. Tarkemmassa elinkaarimallissa niillä voi tuolloin olla oma tilansa."}]},{"type":"comment","value":" fig. luento 8 kalvo 5     ch-4-2-prosessin-elinkaarimalli "},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/a412ffc64959ff9924561aa5b9d50948/ch-4-2-prosessin-elinkaarimalli.svg","alt":"Viisi tila-pallukkaa: (1) Luonti eli new, (2) valmis suoritukseen eli ready-to-run eli ready, (3) suorituksessa eli running, (4) odottaa eli waiting tai suspended ja (5) poistettu tai tapettu eli killed. Luonti-tilasta nuoli ready-tilaan ja katkoviivanuoli odottaa-tilaan. Ready-tilasta on nuoli suorituksessa-tilaan ja katkoviivanuoli poistettu-tilaan. Suorituksesta tilasta on nuolet ready-tilaan, odottaa-tilaan ja poistettu-tilaan. Odottaa-tilasta on nuoli ready-tilaan ja katkoviivanuoli poistettu-tilaan."},"children":[]}]},{"type":"element","tagName":"div","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"illustrations","properties":{"motive":"ch-4-2-prosessin-elinkaarimalli","frombottom":"0","totalheight":"100%"},"children":[]},{"type":"text","value":"\n"}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Prosessien elinkaarimallin tilasiirtymät"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Jos uusi prosessi saa heti käyttöönsä kaikki sen tarvitsemat (esim. muisti-) resurssit, se voidaan siirtää ready-jonoon. Jos taas muistitilaa ei ole vapaana juuri nyt tarpeeksi, käyttöjärjestelmä siirtää uuden prosessin odotustilaan sellaiseen jonoon, jossa odotetaan vapautuvaa muistitilaa. Kun joku muu prosessi päättyy tai tapetaan, siltä vapautunut muistitila voidaan antaa tämän uuden prosessin käyttöön. Tarvittavat koodi/data-tiedot kopioidaan muistiin ja uusi prosessi voidaan vihdoin siirtää ready-jonoon odottamaan suoritusvuoroaan."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Aina kun vuoronantaja on valitsemassa seuraavaa prosessia suoritukseen, se käy läpi ready-jonossa olevia prosesseja ja antaa vuoron korkeimman prioriteetin omaavalle prosessille. Usein ready-jono on oikeasti toteutettu useana jonona, yksi kutakin prioriteettia kohden. Esimerkiksi, prioriteetteja voi olla 128, jolloin ready-jonoja on 128. Jotta kaikkia prosesseja kohdeltaisiin \"reilusti\", useat käyttöjärjestelmät (esim. Windows ja Linux) vaihtelevat prosessien prioriteetteja dynaamisesti suoritusaikana. Prosessin prioriteetti huononee, jos prosessi saa paljon suoritinaikaa. Prioriteetti paranee, jos prosessi joutuu odottamaan kovin kauan suoritusvuoroaan. Tästä huolimatta käyttäjätason prosessien prioriteetit ovat aina huonompi kuin käyttöjärjestelmätason prosessien prioriteetit."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Ready-jono ei ole koskaan tyhjä. Siellä on vähintään joku (alhaisimman prioriteetin) taustaprosessi, joka laskee ikuisessa silmukassa esimerkiksi piin tarkkaa arvoa tai vain pyörii silmukassa tekemättä mitään järkevää. Suoritin suorittaa koko ajan joitakin konekäskyjä, koska se ei osaa tehdä mitään muutakaan. Nykyaikaisissa akkukäyttöisissä laitteissa tosin voi olla virransäästöoptio. Taustaprosessin suorittamisen asemesta suoritin laitetaan virransäästötilaan ("},{"type":"element","tagName":"a","properties":{"href":"https://fi.wikipedia.org/wiki/Horrostila","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"horrostilaan"}]},{"type":"text","value":" tai "},{"type":"element","tagName":"a","properties":{"href":"https://fi.wikipedia.org/wiki/Lepotila","target":"_blank","rel":["noopener","noreferrer"]},"children":[{"type":"text","value":"lepotilaan"}]},{"type":"text","value":"), josta se herää jonkun sopivan keskeytyksen jälkeen. Taustaprosessi voi olla myös valittu sillä tavoin, että sen suorittaminen kuluttaa mahdollisimman vähän sähköä."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Jos käyttöjärjestelmä havaitsee, että prosessi on käyttänyt aikaviipaleensa loppuun, niin kyseinen prosessi siirretään takaisin ready-jonoon ja vuoro annetaan jollekin toiselle prosessille. Tämä suoritusvuoron vuorottelu tapahtuu käyttäjän (ihmisen) näkökulmasta hyvin tiuhaan tahtiin, esim. 10 ms välein. Näyttää, että kaikki järjestelmässä olevat prosessit olisivat suorituksessa samanaikaisesti, vaikka oikeasti vain yksi prosessi on suorituksessa kerrallaan. Käyttäjä on tyytyväinen, koska ainakin hänen ohjelmansa suoritus näyttää etenevän koko ajan. Vuorottamalla saadaan usean prosessin "},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"keskimääräinen"}]},{"type":"text","value":" vasteaika (aika työn saapumisesta sen valmistumiseen) pienemmäksi verrattuina tilanteeseen, jossa samat prosessit olisi suoritettu loppuun yksi kerrallaan. Palvelu siis paranee ihan oikeastikin."}]},{"type":"element","tagName":"div","properties":{"className":["gatsby-highlight"],"dataLanguage":"text"},"children":[{"type":"element","tagName":"pre","properties":{"className":["language-text"]},"children":[{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"Esimerkki. Prosessit A, B ja C saapuvat järjestelmään yhtä aikaa ja\nvaativat 100, 40 ja 10 ms laskenta-aikaa. Aikaviipaleen koko on 10 ms.\n\nJos A, B ja C suoritetaan loppuun tässä järjestyksessä, niin niiden\nvasteajat ovat 100, 140 ja 150 ms.\nKeskimääräinen vasteaika on (100+140+150)/3 = 390/3 = 130 ms.\n\nJos A, B ja C suoritetaan järjestelmässä aikaviipale kerrallaan,\nniin suoritusjärjestys on A B C  A B  A B  A B  A A A A A A.\nA:n vasteaika on nyt 150 ms, B:n 90 ms ja C:n 30 ms.\nKeskimääräinen vasteaika on (150+90+30)/3 = 270/3 = 90 ms.\nHuomaa, että erityisesti lyhyiden prosessien B ja C vasteajat\novat nyt selkeästi paremmat kuin ensimäisessä tapauksessa."}]}]}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Kun suorituksessa oleva prosessi tarvitsee mitä tahansa resurssia, joka ei juuri nyt ole saatavilla, se siirtyy odotus-tilaan tuon resurssin mukaiseen jonoon. Tällaisia jonoja voi olla esimerkiksi muistitilaa odottavat prosessit, levy I/O:n päättymistä odottavat prosessit ja prosessilta 532 viestiä odottavat prosessit. Sitten kun kyseinen resurssi tulee saataville, se annetaan odottavalle prosessille, joka sitten siirretään ready-jonoon."}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Käyttöjärjestelmä voi (saatuaan jollain tavoin suoritusvuoron) tappaa missä tahansa tilassa olevan prosessin, joka sitten siirretään poistettu tai tapettu -tilaan ja lopulta siivotaan pois koko järjestelmästä."}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Prosessien kuvaajat elinkaarimallin mukaisissa jonoissa"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Prosessin tila voi olla merkittynä sen kuvaajaan. Ennen kaikkea tila selviää siitä, missä jonossa prosessi kulloinkin on. Käyttöjärjestelmä käsittelee prosesseja niiden kuvaajina ja siirtelee kuvaajia jonosta toiseen tarpeen mukaan. Esimerkiksi, prosessi on tilassa ready, jos se on jonkun prioriteettiluokan ready-jonossa. Samoin prosessi on odotustilassa, jos se on johonkin resurssiin liittyvässä sitä resurssia odottavien prosessien jonossa."}]},{"type":"comment","value":" fig. luento 8 slide 7     ch-4-2-prosessit-jonoissa "},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"/401f839fc27aa96777855999d39cab34/ch-4-2-prosessit-jonoissa.svg","alt":"Kolme eri luokkaa jonoja: ready-jono, suorituksessa-jono ja erilaiset odottaa-jonot. Jonoissa on prosessien kuvaajat, joista on mainittu vain prosessin tunniste eli pid. Ready tilassa on prosessit 1056 ja 1766, eli niiden kuvaajat.  Suorituksessa prosessi 0188. Disk 1:n odottaa jonossa on prosessit 0036, 7654 ja 9878. Timer-jonossa on prosessi 0555. Msg-from-1345 jonossa on prosessi 2222. Alla laatikko vuoronanto: Valitse seuraava prosessi ready-jonosta ja siirrä se suoritukseen cpu:lle eli kopioi tämän prosessin suoritinympäristö suorittimelle."},"children":[]}]},{"type":"element","tagName":"div","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"illustrations","properties":{"motive":"ch-4-2-prosessit-jonoissa","frombottom":"0","totalheight":"100%"},"children":[]},{"type":"text","value":"\n"}]},{"type":"comment","value":" Quizes 4.2.1-10 "},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"quiz","properties":{"id":"5ce81d6b-a98e-5920-a56d-70d22db357a6"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"quiz","properties":{"id":"e73c7fd8-64b8-5043-a5e3-af34a1843df0"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"quiz","properties":{"id":"8f1a3d99-deea-5eb2-98c5-98e9f6a23ab8"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"quiz","properties":{"id":"edfac76c-6e87-573e-a6c8-c59b542f5d8d"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"quiz","properties":{"id":"fed869e9-4bca-5b29-959f-9d2451f5b3a4"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"quiz","properties":{"id":"30a124e1-c78a-5bff-adbc-325e63ad941b"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"quiz","properties":{"id":"cfd985d4-18f5-5193-9949-fd9f0d50baf9"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"quiz","properties":{"id":"0b00bf36-ceae-5f30-a048-3df7acea51ac"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"quiz","properties":{"id":"8fced05b-678c-5cdc-b731-f5274c940586"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"quiz","properties":{"id":"b8bc85a6-ad08-5f01-bf65-0829458ac701"},"children":[]}]}]},"html":"<div><div>\n<lead>Tässä osiossa esittelemme prosessin käsitteen. Prosessi on järjestelmässä suorituksessa oleva ohjelma ja prosessin kuvaaja sen esitysmuoto käyttöjärjestelmässä. Käymme myös läpi erilaiset tilat, joissa prosessi voi järjestelmässä olla ja minkälaisia tietoja prosessin kuvaajassa on.</lead>\n</div><h2>Prosessi</h2><p>Kun jotain ohjelmaa halutaan suorittaa järjestelmässä, se pitää <em>ladata</em> massamuistista. Latauksessa käyttöjärjestelmä luo uuden <a href=\"https://fi.wikipedia.org/wiki/Prosessi_(tietotekniikka)\" target=\"_blank\" rel=\"noopener noreferrer\">prosessin</a>, joka on kyseisen ohjelman yksi suorituskerta järjestelmässä. Yhdestä ohjelmasta voi järjestelmässä olla samanaikaisesti usea prosessi järjestelmässä, vaikkakin vain yksi niistä voi kerrallaan olla suorituksessa (yhden suorittimen järjestelmässä). Esimerkiksi, sinulla voi olla monta selainikkunaa samanaikaisesti käytössä ja niissä kaikissa suorituksessa sama selainohjelma. Toisaalta, järjestelmässä voi samanaikaisesti olla prosesseja eri ohjelmista, joista niistäkin tietenkin vain yksi kerrallaan on suorituksessa suorittimella.</p><!-- kuva  luento 8, kalvo 3    ch-4-2-prosessit-jarjestelmassa.jpg  --><p><img src=\"/2feddae8830b9d4a8503f817f975d599/ch-4-2-prosessit-jarjestelmassa.svg\" alt=\"Perusjärjestelmän kokoonpano, jossa ylhäällä suoritin ja muisti, keskellä väylä, ja alhaalla laiteohjain ja kovalevy. Kovalevyllä on ohjelmat P ja Q latausmoduuleina. Muistissa on näistä ohjelmista luodut prosessit P1, P2, P3 ja Q1, sekä näiden prosessien ja KJ:n koodi-ja data-alueet. Suorittimien rekistereissä on prosessin P2 tietoja, vaikka pääosa P2:n tiedoista on muistissa. Osa P2:n juuri nyt ei-käytössä olevista tiedoista voi olla levyllä.\"></p><div>\n<illustrations motive=\"ch-4-2-prosessit-jarjestelmassa\" frombottom=\"0\" totalheight=\"100%\"></illustrations>\n</div><p>Ladattava ohjelma sijaitsee massamuistissa kääntämisen ja linkittämisen (ks. Luku 1) lopputuloksena syntyneessä <em>latausmoduulissa</em>, jossa on mm. ohjelmakoodi konekielisessä muodossa. Latauksessa käyttöjärjestelmä varaa tarvittavan määrän muistitilaa tälle prosessille ja kopioi sen ohjelmakoodin muistiin annetulle alueelle. Se myös tallettaa kaikki tähän prosessiin liittyvät hallintotiedot erityiseen tietueeseen, prosessin <em>kuvaajaan</em> (PCB, Process Control Block) tai siihen linkitettyihin muihin tietorakenteisiin. Kuvaajan tarkempi esittely on alla.</p><p>Juuri luotu uusi prosessi ei suinkaan ole vielä suorituksessa, koska sen luontihetkellä suorituksessa oli käyttöjärjestelmään sisältyvä lataaja. Uuden prosessin luomisen jälkeen käyttöjärjestelmä päättää, mikä prosessi saa seuraavaksi suoritusvuoron. Se voi olla juuri luotu prosessi, mutta yhtä hyvin se voi olla esimerkiksi se prosessi, jonka suoritus keskeytettiin uuden prosessin luontia varten.</p><p>Kun uusi prosessi pääsee vihdoin suoritukseen, suorittimen rekisterit täytyy alustaa sopivilla arvoilla. Ensimmäisellä suorituskerralla tämä tarkoittaa, että esimerkiksi muistin käyttöä rajaaville rekistereille (BASE ja LIMIT, ks. Luku 2.1) ja tilarekisterille (SR) asetetaan sopivat arvot prosessin kuvaajasta. Lopulta paikanlaskurille (PC) asetetaan uusi arvo tämän prosessin ohjelmakoodiin ja juuri sillä hetkellä kontrolli (suoritusvuoro) siirtyy tälle uudelle prosessille. Seuraava konekäsky on jo uuden prosessin suoritusta.</p><p>Prosessin käsite on kerta kaikkiaan nerokas. Se on täysin näennäinen (virtuaalinen) käyttöjärjestelmän luoma abstrakti käsite, johon kuitenkin kaikki tietokoneen laskenta perustuu. Kun käyttöjärjestelmä käynnistetään, siellä aivan aluksi (käyttöjärjestelmän ytimessä) luodaan rakenteet prosessien luontia ja prosessien välistä kommunikointia varten. Useat käyttöjärjestelmät (esim. Windows tai Linux) on itsekin toteutettu osittain prosessien avulla, jotka sitten voivat olla suorittamassa käyttöjärjestelmän hallintoa silloin tällöin.</p><p>Suoritin ei tiedä mitään prosesseista ja järjestelmässä suoritettavista tehtävistä. Se näkee ainoastaan peräkkäisesti suoritettavia konekäskyjä, joista osa on etuoikeutettuja ja osa ei. Konekäskyjen suoritus tapahtuu käskyjen nouto- ja suoritussyklin mukaisesti. Yleensä suoritin suorittaa konekäskyjä niiden muistissaolojärjestyksen mukaisesti. Aina silloin tällöin kontrolli siirtyy muualle ehdollisen haarautumisen (JZER, etc), hypyn (JUMP), aliohjelmakutsun (CALL), käyttöjärjestelmän palvelupyynnön (SVC) tai keskeytyksen vuoksi.</p><h3>Prosessin kuvaaja</h3><p>Prosessin kuvaajassa on <em>kaikki</em> tiedot, mitä järjestelmä tarvitsee tästä prosessista. Prosessin kuvaaja (tai ainakin tärkeimmät osat siitä) pidetään muistissa myös silloin kun prosessi ei ole suorituksessa, koska käyttöjärjestelmä käsittelee prosesseja nimenomaan niiden kuvaajien kautta. Kaikki prosessin tiedot eivät ole suoraan tässä kuvaajassa. Esimerkiksi tiedostojen käyttöön liittyvät tiedot voi olla keskitetty tiedostojärjestelmään ja prosessin kuvaajassa on sitten linkki tai linkkejä tiedostojärjestelmän tietoihin. Vastaavasti laitteiden hallinta pitää kirjaa kaikista järjestelmän laitteista ja tietyn prosessin kuvaajassa on linkkejä sen käyttämiin laitteisiin laiteiden hallinnassa.</p><p>Prosessin kuvaajassa on järjestelmässä uniikki prosessin <em>tunniste</em> (kokonaisluku, pid, process id), jonka avulla prosessi tunnistetaan tässä järjestelmässä ja muissakin järjestelmissä. Esimerkiksi, kun pyydät uutta verkkosivua joltain web-palvelimelta, selaimesi lähettää verkon kautta viestin palvelintietokoneelle (esim. <a href=\"http://www.helsinki.fi\" target=\"_blank\" rel=\"noopener noreferrer\">www.helsinki.fi</a> eli 128.214.189.90) siellä suorittavalle web-palvelinprosessille (tunniste esim. 2345). Pyynnössä on mukana sinun koneesi verkko-osoite (esim. 128.214.170.60) ja selainprosessisi tunniste (esim. 1287). Näiden avulla web-palvelinprosessi voi lähettää pyytämäsi verkkosivun sinun koneellesi (128.214.170.60) ja siellä juuri oikealle selaimelle (tunniste 1287). Prosessin tunniste voi olla esimerkiksi indeksi suureen prosessitauluun, josta prosessin tunnisteen perusteella löytyy prosessin kuvaajan osoite muistissa.</p><p>Kuten jo äsken mainittiin, niin kuvaajasta löytyy selkeästi määriteltynä mm. kaikki prosessille varatut <em>muistialueet</em>. Ne voivat olla yhtenä ryppäänä tai hajautettuna sinne tänne keskusmuistia. On myös täysin mahdollista, että muistialueita varataan ja vapautetaan dynaamisesti suoritusaikana. Vastaavasti kaikki prosessin käyttämät <em>tiedostot</em> löytyvät täältä (linkitettynä tiedostojärjestelmään). Kuvaajasta näkyy, mitkä tiedostot on avattu esim. lukuoikeuksilla ja missä kohtaa tiedostoa ollaan tällä hetkellä lukemassa. Kuvaajassa on tieto myös kaikista muista <em>järjestelmän resursseista</em> (esim. näppäimistö tai näytöllä oleva ikkuna), jotka prosessi on varannut käyttöönsä.</p><p>Kuvaajassa on myös prosessin <em>prioriteetti</em> (esim. 35 tai 85) suorittimen vuoronantoa varten. Käyttöjärjestelmäprosesseilla on aina parempi prioriteetti kuin tavallisilla käyttäjän aloittamilla prosesseilla. Ainahan hallinto on tärkeämpää kuin tavallinen työnteko ja varsinkin tietokonejärjestelmissä. Jos esimerkiksi muistinhallintaa ei tehdä ajoissa kuntoon, järjestelmä kaatuu.</p><p>Joissakin järjestelmissä prosessit saavat olla suorituksessa korkeintaan jonkin tietyn ajan, jonka jälkeen niiden pitää antaa vuoro toisille. Tällaista kerralla laskentaan käytettävää maksimiaikaa kutsutaan prosessin <a href=\"https://fi.m.wikipedia.org/wiki/Moniajo\" target=\"_blank\" rel=\"noopener noreferrer\">aikaviipaleeksi</a> ja sen pituus löytyy myös kuvaajasta. Kuvaajasta löytyy myös tieto siitä, suorittaako prosessi (tällä hetkellä) <em>etuoikeutetussa tilassa</em> vai ei.</p><p>Jos prosessi joutuu odottamaan jotain asiaa (esim. syötettä käyttäjältä), niin <em>odotuksen syy</em> \nlöytyy kuvaajasta. Käyttöjärjestelmä pitää kuvaajassa kirjaa prosessin käyttämästä <em>suoritinajasta</em>, jota joissakin pilvipalveluissa käytetään laskutusperusteena.</p><h3>Suoritinympäristö</h3><p>Tärkeänä komponenttina kuvaajassa on prosessin <em>suoritinympäristö</em>. Ajatellaan tilannetta, jossa prosessi on menettänyt suoritusvuoronsa suorittimelle vaikkapa keskeytyksen jälkimainingeissa. Prosessi täytyy nyt laittaa odottamaan uutta vuoroa suorittimelle ja haluamme suorituksen jatkuvan sitten joskus ihan samalla tavalla kuin jos keskeytystä ei olisi ikinä tapahtunutkaan. Tämä toteutetaan tallettamalla lähes kaikki suorittimen rekistereiden arvot tämän prosessin suoritinympäristöön. Tämä ei ole mikään valtava määrä tietoa, koska rekistereitä on korkeintaan muutama sata.</p><p>Sitten kun prosessi pääsee suoritukseen uudestaan, rekistereiden tallennetut arvot kopioidaan kuvaajasta takaisin suorittimelle ja suoritus voi jatkua normaalisti. Erona aikaisemmin mainittuun ensimmäiseen suorituskertaan on, että suoritinympäristöstä haetaan nyt myös kaikki aikaisemmin laskennassa käytetyt työrekisterit. Niillähän ei ensimmäisellä suorituskerralla ollut vielä mitään järkeviä arvoja, kun prosessi ei ollut vielä suorittanut yhtään konekäskyä.</p><p>Suoritinympäristön tietojen kopiointi tapahtuu ihan tavallisilla konekäskyillä ja muistiinviittauksilla kyseisen prosesssin kuvaajaan. Kopiointi tapahtuu etuoikeutetussa suoritustilassa, kuten kaikki muukin prosessien hallintaan liittyvä käyttöjärjestelmän tekemä työ. Prosessien kuvaajiin ei tavallisilla käyttäjätason prosesseilla ole pääsyä.</p><p>Suoritinympäristöön ei tarvitse kopioida ihan kaikkia suorittimen rekistereiden arvoja, koska suorituksessa oleva prosessi voi vaihtua toiseen ainoastaan konekäskyjen suoritusten välissä. Sellaisia rekistereitä, joiden arvot asetetaan joka tapauksessa uudelleen yhden konekäskyn suorituksen aikana, ei tarvitse tallettaa suoritinympäristöön. Tällaisia ovat esimerkiksi väylää ohjaavat rekisterit MAR ja MBR (ks. Luku 2.1).</p><p>Prosessin ollessa suorituksessa sen suoritinympäristö on siis suorittimen rekistereissä ja muulloin se on talletettuna prosessin kuvaajaan.</p><h3>Käyttöjärjestelmän tietorakenteiden yhteiskäyttöongelma</h3><p>Prosessien kuvaajat ja niihin linkitetyt eri alijärjestelmien (esim. tiedostojärjestelmä) tiedot muodostavat yhdessä valtavan tietorakenteen, jota hyvin moni käyttöjärjestelmän osa käsittelee. Tämä aiheuttaa käyttöjärjestelmän suunnittelussa ja toteutuksessa hankalan ongelman, koska käyttöjärjestelmän osia on järjestelmässä useita suorituksessa samanaikaisesti. Esimerkiksi, usea prosessi on saattanut pyytää levy-I/O:ta tai lisämuistitilaa samanaikaisesti.</p><p>Käyttöjärjestelmän omien tietorakenteiden hallinnassa on tämän vuoksi <em>samanaikaisuusongelma</em>, koska usean prosessin tarvitsee käsitellä (ja muuttaa) samoja tietorakenteita samanaikaisesti. Samanaikaisuusongelma ratkaistaan rajoittamalla tietyn tietorakenteen osan käyttö yhdelle prosessille kerrallaan. Se on kuitenkin vaikeata tehdä, kun yleensä ei ole tietoa näistä muista prosesseista, jotka juuri nyt haluaisivat ehkä koskea siihen samaan tietorakenteeseen. Jos ratkaisu epäonnistuu, kyseinen käyttöjärjestelmän tietorakenne jää rikkinäiseen tilaan ja koko järjestelmä voi hyytyä (esim. <a href=\"https://simple.wikipedia.org/wiki/Blue_Screen_of_Death\" target=\"_blank\" rel=\"noopener noreferrer\">Blue Screen of Death</a>). Tämä onkin yleisin syy tietokonejärjestelmien jumiutumiseen siten, että ne eivät reagoi enää mihinkään.</p><p>Yleensä ainoa toipumiskonsti hyytyneeseen järjestelmään on pistää virrat pois ja alustaa  (bootata) koko järjestelmä uudelleen. Tästä aiheutuu usein ärsyttävän paljon haittaa, kun kaikki levylle tallentamaton keskeneräinen työ voi mennä hukkaan.</p><p>Samanaikaisuusongelmat ovat vaikeita poistaa, koska käyttöjärjestelmässä voi olla satoja tuhansia tai miljoonia rivejä koodia, ja sitä on toteuttamassa suuri määrä ohjelmoijia eri organisaatioissa. Ongelma tulee vähän paremmin hallittavaksi, jos tärkeimpiä tietorakenteita käsitellään vain käyttöjärjestelmän etuoikeutetussa <a href=\"https://fi.wikipedia.org/wiki/K%C3%A4ytt%C3%B6j%C3%A4rjestelm%C3%A4n_ydin\" target=\"_blank\" rel=\"noopener noreferrer\">ytimessä</a> (<a href=\"https://simple.wikipedia.org/wiki/Kernel_%28computer_science%29\" target=\"_blank\" rel=\"noopener noreferrer\">kernel</a>). Etuoikeutetusta ytimestä voidaan tehdä mahdollisimman pieni, jolloin myös yhteisiä tietorakenteita käyttävästä koodista tulee pienempi ja sieltä on helpompi löytää virheitä.</p><h2>Prosessin vaihto</h2><p>Prosessin vaihto on tapahtumaketju, jossa suorittimella suoritusvuorossa oleva prosessi vaihtuu. Se tapahtuu käytännössä aika usein, esimerkiksi 1-30 ms välein. Prosessin vaihto tapahtuu usein sen vuoksi, että suorituksessa oleva prosessi ei voi jatkaa suoritusta, vaan sen pitää jäädä odottamaan jotain. Syynä voi olla, että prosessi tarvitsee jotain tietoa massamuistista tai verkosta, tai sitten se jää odottamaan esimerkiksi vastausviestiä toiselta prosessilta pyytämäänsä palveluun.</p><p>Esimerkiksi, prosessi P pyytää viestin avulla levy I/O:ta laiteajuriprosessilta DD ja jää sitten odottamaan vastausviestiä. Laiteajuri DD ottaa viestin vastaan ja pyytää levyn laiteohjainta tekemään kyseisen I/O:n (tai osan I/O:sta). Sitten laiteajurikin jää odottamaan, kunnes laiteohjain ilmoittaa I/O-keskeytyksen avulla sille annetun tehtävän valmistumisesta.</p><p>Toinen syy prosessin vaihtoon voi olla, että prosessin <a href=\"https://fi.m.wikipedia.org/wiki/Moniajo\" target=\"_blank\" rel=\"noopener noreferrer\">aikaviipale</a> on tullut täyteen ja on aika antaa suoritusvuoro jollekin toiselle prosessille. Tämä havaitaan, kun käyttöjärjestelmä on saanut suoritusvuoron esimerkiksi kellolaitekeskeytyksen (ks. Luku 2.2) tai jonkin muun keskeytyksen kautta. Joka kerta, kun käyttöjärjestelmä saa suoritusvuoron, se voi tehdä hallintoa ja mahdollisesti päättää prosessin vaihdosta. Tämä on itse asiassa todella ärsyttävä ja vaikeita ongelmia aiheuttava käyttöjärjestelmän ominaisuus.</p><p>Kolmas syy prosessin vaihtoon on, että nyt suorituksessa oleva prosessi päättyy eli ohjelman suoritus päättyy normaalisti. Tämä toteutetaan yleensä kutsumalla jotain käyttöjärjestelmärutiinia SVC-konekäskyllä (ks. Luku 2.3).</p><h3>Prosessin vaihdon toteutus</h3><p>Prosessin vaihto tapahtuu kahdessa vaiheessa. Ensiksi, nyt suorituksessa ollut prosessi joko lopetetaan kokonaan tai sitten se laitetaan odottamaan jotain. Jos prosessi lopetetaan, niin sitten kaikki sen käyttämät tiedostot suljetaan ja kaikki sen käyttämät resurssit vapautetaan muiden prosessien käyttöön. Tämä on \"helpohkoa\" tehdä, koska kaikki tiedot löytyvät (linkitettynä) prosessin kuvaajasta. Lopulta kaikki tiedot on poistettu ja prosessin tunnistekin vapautetaan uusiokäyttöön.</p><p>Jos prosessi laitetaan odottamaan jotain, niin sen suoritinympäristö pitää ottaa talteen sen kuvaajaan. Tämänkin työn tekee prosessienhallinnan joku moduuli.</p><p>Toiseksi, prosessienhallinta kutsuu prosessien <em>vuoronantajaa</em> (scheduler), joka sopivaa <em>vuoronantoalgoritmia</em> käyttäen valitsee uuden prosessin suoritukseen. Suorittimen rekistereihin kopioidaan uuden prosessin suoritinympäristö sen kuvaajasta ja suoritusvuoro siirtyy näin uudelle prosessille.</p><h2>Prosessin elinkaarimalli</h2><p>Prosessin \"elämää\" järjestelmässä sen luonnista sen päättymiseen kuvataan <em>prosessin elinkaarimallin</em> avulla. Tästä mallista on muutamia variantteja riippuen siitä, kuinka paljon yksityiskohtia halutaan ottaa mukaan. Tässä esitellään mallin yksinkertaisin versio.</p><p>Prosessin luonnin ollessa vielä kesken sen ajatellaan olevan tilassa \"luonti\" (\"uusi\", \"new\"). Prosessi on tilassa \"valmis suoritukseen\" (\"ready\", \"ready to run\"), kun se odottaa suoritusvuoroa suorittimelle. Tuolloin sen kaikki tarvittavat muistialueet (koodi ja data) ovat valmiina keskusmuistissa ja se vain odottaa vuoroaan päästä suoritukseen. Kun prosessi vihdoin on suorittamassa suorittimella, sen tilana on \"suorituksessa\" (\"running\"). Sillä on tuolloin tietenkin kaikki sen tarvitsemat koodi- ja data-alueet muistissa. Jos prosessi on odottamassa mistä tahansa syystä, se on tilassa \"odottaa\" (\"waiting\", \"suspended\"). Kun prosessi joko itse pääsee koodin loppuun tai käyttöjärjestelmä on tappanut sen, prosessin tilana on \"päättynyt tai poistettu\" (\"tapettu\", \"terminated\", \"killed\"), kunnes kaikki sen rakenteet on vapautettu uusiokäyttöön. Joskus prosessia ei voi poistaa kokonaan ennen kuin kaikki sen itse käynnistämät prosessit (\"lapsiprosessit\") on ensin poistettu järjestelmästä. Tuollaisia vähän pidempään tapettu-tilassa olevia prosesseja kutsutaan joskus kuvaavasti <a href=\"https://en.wikipedia.org/wiki/Zombie_process\" target=\"_blank\" rel=\"noopener noreferrer\">zombie</a>-prosesseiksi, koska ne eivät enää oikeastaan tee mitään paitsi odottavat \"lapsiensa\" \"kuolemaa\" eli lapsiprosessiensa päättymistä. Tarkemmassa elinkaarimallissa niillä voi tuolloin olla oma tilansa.</p><!-- fig. luento 8 kalvo 5     ch-4-2-prosessin-elinkaarimalli --><p><img src=\"/a412ffc64959ff9924561aa5b9d50948/ch-4-2-prosessin-elinkaarimalli.svg\" alt=\"Viisi tila-pallukkaa: (1) Luonti eli new, (2) valmis suoritukseen eli ready-to-run eli ready, (3) suorituksessa eli running, (4) odottaa eli waiting tai suspended ja (5) poistettu tai tapettu eli killed. Luonti-tilasta nuoli ready-tilaan ja katkoviivanuoli odottaa-tilaan. Ready-tilasta on nuoli suorituksessa-tilaan ja katkoviivanuoli poistettu-tilaan. Suorituksesta tilasta on nuolet ready-tilaan, odottaa-tilaan ja poistettu-tilaan. Odottaa-tilasta on nuoli ready-tilaan ja katkoviivanuoli poistettu-tilaan.\"></p><div>\n<illustrations motive=\"ch-4-2-prosessin-elinkaarimalli\" frombottom=\"0\" totalheight=\"100%\"></illustrations>\n</div><h3>Prosessien elinkaarimallin tilasiirtymät</h3><p>Jos uusi prosessi saa heti käyttöönsä kaikki sen tarvitsemat (esim. muisti-) resurssit, se voidaan siirtää ready-jonoon. Jos taas muistitilaa ei ole vapaana juuri nyt tarpeeksi, käyttöjärjestelmä siirtää uuden prosessin odotustilaan sellaiseen jonoon, jossa odotetaan vapautuvaa muistitilaa. Kun joku muu prosessi päättyy tai tapetaan, siltä vapautunut muistitila voidaan antaa tämän uuden prosessin käyttöön. Tarvittavat koodi/data-tiedot kopioidaan muistiin ja uusi prosessi voidaan vihdoin siirtää ready-jonoon odottamaan suoritusvuoroaan.</p><p>Aina kun vuoronantaja on valitsemassa seuraavaa prosessia suoritukseen, se käy läpi ready-jonossa olevia prosesseja ja antaa vuoron korkeimman prioriteetin omaavalle prosessille. Usein ready-jono on oikeasti toteutettu useana jonona, yksi kutakin prioriteettia kohden. Esimerkiksi, prioriteetteja voi olla 128, jolloin ready-jonoja on 128. Jotta kaikkia prosesseja kohdeltaisiin \"reilusti\", useat käyttöjärjestelmät (esim. Windows ja Linux) vaihtelevat prosessien prioriteetteja dynaamisesti suoritusaikana. Prosessin prioriteetti huononee, jos prosessi saa paljon suoritinaikaa. Prioriteetti paranee, jos prosessi joutuu odottamaan kovin kauan suoritusvuoroaan. Tästä huolimatta käyttäjätason prosessien prioriteetit ovat aina huonompi kuin käyttöjärjestelmätason prosessien prioriteetit.</p><p>Ready-jono ei ole koskaan tyhjä. Siellä on vähintään joku (alhaisimman prioriteetin) taustaprosessi, joka laskee ikuisessa silmukassa esimerkiksi piin tarkkaa arvoa tai vain pyörii silmukassa tekemättä mitään järkevää. Suoritin suorittaa koko ajan joitakin konekäskyjä, koska se ei osaa tehdä mitään muutakaan. Nykyaikaisissa akkukäyttöisissä laitteissa tosin voi olla virransäästöoptio. Taustaprosessin suorittamisen asemesta suoritin laitetaan virransäästötilaan (<a href=\"https://fi.wikipedia.org/wiki/Horrostila\" target=\"_blank\" rel=\"noopener noreferrer\">horrostilaan</a> tai <a href=\"https://fi.wikipedia.org/wiki/Lepotila\" target=\"_blank\" rel=\"noopener noreferrer\">lepotilaan</a>), josta se herää jonkun sopivan keskeytyksen jälkeen. Taustaprosessi voi olla myös valittu sillä tavoin, että sen suorittaminen kuluttaa mahdollisimman vähän sähköä.</p><p>Jos käyttöjärjestelmä havaitsee, että prosessi on käyttänyt aikaviipaleensa loppuun, niin kyseinen prosessi siirretään takaisin ready-jonoon ja vuoro annetaan jollekin toiselle prosessille. Tämä suoritusvuoron vuorottelu tapahtuu käyttäjän (ihmisen) näkökulmasta hyvin tiuhaan tahtiin, esim. 10 ms välein. Näyttää, että kaikki järjestelmässä olevat prosessit olisivat suorituksessa samanaikaisesti, vaikka oikeasti vain yksi prosessi on suorituksessa kerrallaan. Käyttäjä on tyytyväinen, koska ainakin hänen ohjelmansa suoritus näyttää etenevän koko ajan. Vuorottamalla saadaan usean prosessin <em>keskimääräinen</em> vasteaika (aika työn saapumisesta sen valmistumiseen) pienemmäksi verrattuina tilanteeseen, jossa samat prosessit olisi suoritettu loppuun yksi kerrallaan. Palvelu siis paranee ihan oikeastikin.</p><div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Esimerkki. Prosessit A, B ja C saapuvat järjestelmään yhtä aikaa ja\nvaativat 100, 40 ja 10 ms laskenta-aikaa. Aikaviipaleen koko on 10 ms.\n\nJos A, B ja C suoritetaan loppuun tässä järjestyksessä, niin niiden\nvasteajat ovat 100, 140 ja 150 ms.\nKeskimääräinen vasteaika on (100+140+150)/3 = 390/3 = 130 ms.\n\nJos A, B ja C suoritetaan järjestelmässä aikaviipale kerrallaan,\nniin suoritusjärjestys on A B C  A B  A B  A B  A A A A A A.\nA:n vasteaika on nyt 150 ms, B:n 90 ms ja C:n 30 ms.\nKeskimääräinen vasteaika on (150+90+30)/3 = 270/3 = 90 ms.\nHuomaa, että erityisesti lyhyiden prosessien B ja C vasteajat\novat nyt selkeästi paremmat kuin ensimäisessä tapauksessa.</code></pre></div><p>Kun suorituksessa oleva prosessi tarvitsee mitä tahansa resurssia, joka ei juuri nyt ole saatavilla, se siirtyy odotus-tilaan tuon resurssin mukaiseen jonoon. Tällaisia jonoja voi olla esimerkiksi muistitilaa odottavat prosessit, levy I/O:n päättymistä odottavat prosessit ja prosessilta 532 viestiä odottavat prosessit. Sitten kun kyseinen resurssi tulee saataville, se annetaan odottavalle prosessille, joka sitten siirretään ready-jonoon.</p><p>Käyttöjärjestelmä voi (saatuaan jollain tavoin suoritusvuoron) tappaa missä tahansa tilassa olevan prosessin, joka sitten siirretään poistettu tai tapettu -tilaan ja lopulta siivotaan pois koko järjestelmästä.</p><h3>Prosessien kuvaajat elinkaarimallin mukaisissa jonoissa</h3><p>Prosessin tila voi olla merkittynä sen kuvaajaan. Ennen kaikkea tila selviää siitä, missä jonossa prosessi kulloinkin on. Käyttöjärjestelmä käsittelee prosesseja niiden kuvaajina ja siirtelee kuvaajia jonosta toiseen tarpeen mukaan. Esimerkiksi, prosessi on tilassa ready, jos se on jonkun prioriteettiluokan ready-jonossa. Samoin prosessi on odotustilassa, jos se on johonkin resurssiin liittyvässä sitä resurssia odottavien prosessien jonossa.</p><!-- fig. luento 8 slide 7     ch-4-2-prosessit-jonoissa --><p><img src=\"/401f839fc27aa96777855999d39cab34/ch-4-2-prosessit-jonoissa.svg\" alt=\"Kolme eri luokkaa jonoja: ready-jono, suorituksessa-jono ja erilaiset odottaa-jonot. Jonoissa on prosessien kuvaajat, joista on mainittu vain prosessin tunniste eli pid. Ready tilassa on prosessit 1056 ja 1766, eli niiden kuvaajat.  Suorituksessa prosessi 0188. Disk 1:n odottaa jonossa on prosessit 0036, 7654 ja 9878. Timer-jonossa on prosessi 0555. Msg-from-1345 jonossa on prosessi 2222. Alla laatikko vuoronanto: Valitse seuraava prosessi ready-jonosta ja siirrä se suoritukseen cpu:lle eli kopioi tämän prosessin suoritinympäristö suorittimelle.\"></p><div>\n<illustrations motive=\"ch-4-2-prosessit-jonoissa\" frombottom=\"0\" totalheight=\"100%\"></illustrations>\n</div><!-- Quizes 4.2.1-10 --><div><quiz id=\"5ce81d6b-a98e-5920-a56d-70d22db357a6\"></quiz></div>\n<div><quiz id=\"e73c7fd8-64b8-5043-a5e3-af34a1843df0\"></quiz></div>\n<div><quiz id=\"8f1a3d99-deea-5eb2-98c5-98e9f6a23ab8\"></quiz></div>\n<div><quiz id=\"edfac76c-6e87-573e-a6c8-c59b542f5d8d\"></quiz></div>\n<div><quiz id=\"fed869e9-4bca-5b29-959f-9d2451f5b3a4\"></quiz></div>\n<div><quiz id=\"30a124e1-c78a-5bff-adbc-325e63ad941b\"></quiz></div>\n<div><quiz id=\"cfd985d4-18f5-5193-9949-fd9f0d50baf9\"></quiz></div>\n<div><quiz id=\"0b00bf36-ceae-5f30-a048-3df7acea51ac\"></quiz></div>\n<div><quiz id=\"8fced05b-678c-5cdc-b731-f5274c940586\"></quiz></div>\n<div><quiz id=\"b8bc85a6-ad08-5f01-bf65-0829458ac701\"></quiz></div></div>","frontmatter":{"path":"/luku-4/2-prosessi","title":"Prosessi"}},"allPages":{"edges":[{"node":{"id":"f84c69b8-0195-598e-b051-638a517adb15","frontmatter":{"path":"/arvostelu-ja-kokeet","title":"Arvostelu ja kokeet"}}},{"node":{"id":"97559a5f-7228-505c-a45a-e0873044f86b","frontmatter":{"path":"/credits","title":"Tekijänoikeudet ja lisenssit"}}},{"node":{"id":"b5e3212a-e9e7-5514-87e6-07e3f18fee95","frontmatter":{"path":"/opettajille","title":"Opettajille ja opinto-ohjaajille"}}},{"node":{"id":"a0c4823b-46b6-5707-beb2-8a229b5a2beb","frontmatter":{"path":"/osaamistavoitteet","title":"Osaamistavoitteet"}}},{"node":{"id":"dbb6d14b-2dea-5f9a-85fc-30eb59a77a70","frontmatter":{"path":"/","title":""}}},{"node":{"id":"a0c06bb0-616a-594f-b31a-cf57faa3a1ed","frontmatter":{"path":"/tukivaylat","title":"Tukiväylät"}}},{"node":{"id":"ea6e5cfa-14c1-53b5-99da-25b985ab3a7b","frontmatter":{"path":"/usein-kysytyt-kysymykset","title":"Palaute ja usein kysytyt kysymykset"}}},{"node":{"id":"d9390807-bada-58ad-a2b0-59515c977a08","frontmatter":{"path":"/luku-1/2-ohjelma","title":"Ohjelma"}}},{"node":{"id":"7c078337-dddc-5acf-ab5e-7ade2e1444c5","frontmatter":{"path":"/luku-1/3-laitteiston-nopeuserot","title":"Laitteiston nopeuserot"}}},{"node":{"id":"cafd05e1-5355-5bf8-a41c-b955593fd3fd","frontmatter":{"path":"/luku-1/1-mika-on-tietokone","title":"Tietokone"}}},{"node":{"id":"03eacc49-4552-5b0b-bd14-e18ee30fea39","frontmatter":{"path":"/luku-1","title":"Luku 1: Tietokonejärjestelmä ja ohjelma?"}}},{"node":{"id":"25190d7c-3ec2-5d92-bc9b-a9eaea77075b","frontmatter":{"path":"/luku-2/2-suoritussykli","title":"Käskyjen nouto- ja suoritussykli"}}},{"node":{"id":"c9b57a30-4ec9-53c6-ba7e-6e2d020edf88","frontmatter":{"path":"/luku-2/4-tiedon-sijainti","title":"Tiedon sijainti suoritusaikana"}}},{"node":{"id":"8fd68708-1f3b-5ded-857f-4ff583ebe0a2","frontmatter":{"path":"/luku-2/1-suorittimen-rakenne","title":"Suorittimen rakenne"}}},{"node":{"id":"a23135b2-b131-59cd-b1c6-cfefd4c12714","frontmatter":{"path":"/luku-2/3-konekaskyt","title":"Konekäskyt"}}},{"node":{"id":"bb32b4c9-f268-5ee0-ab30-2c8015858045","frontmatter":{"path":"/luku-2","title":"Luku 2: Suoritin ja muisti"}}},{"node":{"id":"0363ae7c-d894-551b-b701-4d6154421c91","frontmatter":{"path":"/luku-3/1-tiedon-kategoriat","title":"Tiedon kategoriat, binääri- ja heksadesimaalijärjestelmät, monitavuisen tiedon tallennus"}}},{"node":{"id":"90801e3d-d0e8-5485-86f5-8e0192f5535e","frontmatter":{"path":"/luku-3/3-taulukot-tietueet","title":"Taulukot, tietueet ja muu rakenteinen tieto"}}},{"node":{"id":"b4f1ad3e-ddda-5fe0-81b4-1d3cd70451ca","frontmatter":{"path":"/luku-3/2-kokonaisluvut-ja-liukuluvut","title":"Kokonaislukujen ja liukulukujen esitysmuodot"}}},{"node":{"id":"f778c926-0e93-5b7a-9b50-5fd503f42528","frontmatter":{"path":"/luku-3","title":"Luku 3: Tiedon esitysmuodot"}}},{"node":{"id":"6dddcd21-639d-504f-88cc-db830c98f75c","frontmatter":{"path":"/luku-3/4-merkit-etc","title":"Merkit, kuvat ja tunteenpalo"}}},{"node":{"id":"3d13f5ae-50f5-5454-a662-9bf3e2bde459","frontmatter":{"path":"/luku-4/1-kayttojarjestelman-tehtavat","title":"Käyttöjärjestelmän tehtävät"}}},{"node":{"id":"3187dc8f-8296-53a6-b73a-9880d556ae9b","frontmatter":{"path":"/luku-4/2-prosessi","title":"Prosessi"}}},{"node":{"id":"b74906bf-020f-526d-a4a0-d079accbb347","frontmatter":{"path":"/luku-4/3-kayttojarjestelman-toteutus","title":"Käyttöjärjestelmän toteutus"}}},{"node":{"id":"7c3125f9-4d7c-52fe-83e1-bf564067c597","frontmatter":{"path":"/luku-4/4-laskentakyvyn-rajat","title":"Tietokoneen laskentakyvyn rajat"}}},{"node":{"id":"20ffd10f-ce80-5f7e-9c31-cf0bc2bb2edd","frontmatter":{"path":"/luku-4","title":"Luku 4: Käyttöjärjestelmä ja laskentakyvyn rajat"}}}]}},"pageContext":{}},
    "staticQueryHashes": ["2283872788","994120085"]}