"use strict";(self.webpackChunkohjelmoinnin_mooc=self.webpackChunkohjelmoinnin_mooc||[]).push([[422],{62451:function(t,e,n){n.r(e);var i=n(67294),a=n(35414),s=n(94826),l=n(94694),o=n(25444),r=n(1097),m=n(83332),u=n(50535),c=n(54021),d=n(86810);const h=u.default.div.withConfig({displayName:"sign-in__Row",componentId:"sc-1r0lptz-0"})(["margin-bottom:1.5rem;"]),p=u.default.form.withConfig({displayName:"sign-in__Form",componentId:"sc-1r0lptz-1"})([""]),g=u.default.div.withConfig({displayName:"sign-in__InfoBox",componentId:"sc-1r0lptz-2"})(["margin-bottom:2rem;"]),f=u.default.div.withConfig({displayName:"sign-in__FormContainer",componentId:"sc-1r0lptz-3"})(["height:100%;margin-top:2rem;"]);class w extends i.Component{constructor(){super(...arguments),this.componentDidMount=()=>{this.fallbackRedirector=setInterval((()=>{(0,l.Pl)()&&setTimeout((()=>{"/sign-in/"!==window.location.pathname&&"/sign-in"!==window.location.pathname||(window.location="/")}),2e3)}),1e3)},this.onClick=async t=>{if(t.preventDefault(),!(this.state.submitting||0===this.state.email.length&&0===this.state.password.length)){this.setState({submitting:!0,error:!1});try{await(0,l.YR)({username:this.state.email,password:this.state.password}),setTimeout((()=>{try{if("undefined"!=typeof window)return console.log("Navigating back"),void window.history.go(-1);(0,o.navigate)("/")}catch(t){(0,o.navigate)("/")}}),100)}catch(e){return void this.setState({error:!0,submitting:!1})}}},this.state={email:"",password:"",submitting:!1,error:!1}}componentWillUnmount(){clearInterval(this.fallbackRedirector)}render(){return this.context.loggedIn&&!this.state.submitting?((0,o.navigate)("/"),i.createElement("div",null,"Redirecting....")):i.createElement(s.Z,null,i.createElement(d.Z,null,i.createElement(a.Z,{title:"Kirjaudu sisään"}),i.createElement(f,null,i.createElement("h1",null,"Kirjaudu sisään"),i.createElement(p,null,i.createElement(g,null,"Tämä kurssi käyttää"," ",i.createElement("a",{href:"https://mooc.fi",target:"_blank",rel:"noopener noreferrer"},"mooc.fi")," ","käyttäjätunnuksia. Jos olet aikaisemmin tehnyt mooc.fi -kursseja voit käyttää olemassaolevia tunnuksiasi."),i.createElement(h,null,i.createElement(r.Z,{id:"outlined-adornment-password",variant:"outlined",type:"text",label:"Sähköpostiosoite tai käyttäjänimi",fullWidth:!0,value:this.state.email,onChange:t=>this.setState({email:t.target.value})})),i.createElement(h,null,i.createElement(r.Z,{id:"outlined-adornment-password",variant:"outlined",type:this.state.showPassword?"text":"password",label:"Salasana",fullWidth:!0,value:this.state.password,onChange:t=>this.setState({password:t.target.value})})),i.createElement(h,null,i.createElement(m.Z,{onClick:this.onClick,disabled:this.state.submitting,variant:"contained",color:"primary",fullWidth:!0,type:"submit"},"Kirjaudu sisään"))),this.state.error&&i.createElement(g,null,i.createElement("b",null,"Virheelliset tunnukset, tarkista kirjoitusasu!")),i.createElement(h,null,i.createElement(o.Link,{to:"/sign-up"},"Luo uusi tunnus")),i.createElement(h,null,i.createElement("a",{href:"https://tmc.mooc.fi/password_reset_keys/new",target:"_blank",rel:"noopener noreferrer"},"Unohdin salasanani")))))}}w.contextType=c.ZP,e.default=(0,c._N)(w)}}]);
//# sourceMappingURL=component---src-pages-sign-in-js-366b2e66083aa5230e15.js.map